{
  "title": "Tower JSON Views",
  "uid": "tower-json-views",
  "timezone": "browser",
  "schemaVersion": 39,
  "version": 1,
  "editable": true,
  "templating": {
    "list": [
      {
        "type": "query",
        "name": "towerId",
        "label": "Tower",
        "datasource": null,
        "query": "label_values({__name__=~\"simulator_metric_value|siteboss_sensor_value|siteboss_sensor_count\"}, towerId)",
        "refresh": 1,
        "includeAll": true,
        "allValue": ".*",
        "multi": false
      }
    ]
  },
  "panels": [
    {"type":"row","title":"SiteBoss JSON","gridPos":{"x":0,"y":0,"w":24,"h":1}},
    {
      "type": "table",
      "title": "SiteBoss Latest (raw)",
      "gridPos": {"x":0,"y":1,"w":24,"h":10},
      "datasource": "Tower JSON",
      "options": {"showHeader": true},
      "targets": [
        {
          "method": "GET",
          "urlPath": "/api/siteboss/latest/$towerId",
          "json": true,
          "rootSelector": "$"
        }
      ],
      "transformations": [
        {"id":"rowsToFields"}
      ]
    },

    {"type":"row","title":"Simulator JSON","gridPos":{"x":0,"y":11,"w":24,"h":1}},
    {
      "type": "table",
      "title": "Simulator Live (raw)",
      "gridPos": {"x":0,"y":12,"w":24,"h":10},
      "datasource": "Tower JSON",
      "options": {"showHeader": true},
      "targets": [
        {
          "method": "GET",
          "urlPath": "/api/telemetry/live",
          "json": true,
          "rootSelector": "$[*]"
        }
      ],
      "transformations": [
        {"id":"rowsToFields"}
      ]
    }
  ]
}
